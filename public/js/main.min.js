document.addEventListener("DOMContentLoaded",function(){const navToggle=document.querySelector(".nav-toggle"),mainNav=document.querySelector(".main-nav"),subMenus=document.querySelectorAll(".has-submenu");navToggle.addEventListener("click",()=>{mainNav.classList.toggle("active"),navToggle.classList.toggle("active"),navToggle.setAttribute("aria-expanded",mainNav.classList.contains("active"))});subMenus.forEach(e=>{const n=e.querySelector(".submenu-toggle");n.addEventListener("click",n=>{n.preventDefault();const t=e.querySelector(".services-dropdown");t.style.display="none"===t.style.display?"block":"none",e.classList.toggle("submenu-active")})});const e=document.querySelectorAll(".blur-load");function t(e){e.src=e.dataset.src,e.addEventListener("load",()=>{e.parentElement.classList.add("loaded")})}const n=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const r=e.target.querySelector("img");r&&t(r),n.unobserve(e.target)}})},{rootMargin:"50px"});e.forEach(e=>n.observe(e));const r=document.querySelectorAll(".responsive-video[data-src]"),s=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target,n=document.createElement("iframe");n.src=t.dataset.src,n.title=t.dataset.title,n.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",n.allowFullscreen=!0,t.appendChild(n),s.unobserve(t)}})},{rootMargin:"50px"});r.forEach(e=>s.observe(e))});const registerServiceWorker=async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.register("/sw.js");console.log("Service Worker registered:",e)}catch(e){console.log("Service Worker registration failed:",e)}};registerServiceWorker();
